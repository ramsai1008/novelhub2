(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{1989:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});var s=t(5155),r=t(6874),d=t.n(r),l=t(2115),i=t(6104);function n(){let[a,e]=(0,l.useState)([]),[t,r]=(0,l.useState)(""),[n,c]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(0,i.HS)().then(e)},[]),(0,l.useEffect)(()=>{t&&(0,i.Mv)(t).then(c)},[t]),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDCDA Browse by Genre"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3 mb-6",children:a.map(a=>(0,s.jsx)("button",{onClick:()=>r(a),className:"px-4 py-2 rounded-full border text-sm hover:bg-blue-500 hover:text-white transition ".concat(t===a?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 dark:text-white border-gray-300 dark:border-gray-700"),children:a},a))}),t&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-3",children:['Novels in "',t,'"']}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:n.map(a=>{var e;return(0,s.jsx)(d(),{href:"/novels/".concat(a.id),children:(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden shadow bg-white dark:bg-gray-900 hover:shadow-md transition",children:[a.cover&&(0,s.jsx)("img",{src:a.cover,alt:a.title,className:"w-full h-40 object-cover"}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("h3",{className:"font-semibold truncate",children:a.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[null==(e=a.description)?void 0:e.slice(0,60),"..."]})]})]})},a.id)})})]})]})}},3392:(a,e,t)=>{Promise.resolve().then(t.bind(t,1989))},6104:(a,e,t)=>{"use strict";t.d(e,{CS:()=>u,Gq:()=>o,HS:()=>p,J_:()=>m,Mv:()=>v,Vb:()=>b,YX:()=>f,ab:()=>h,db:()=>i,fC:()=>x,iJ:()=>c,j2:()=>n,qY:()=>g});var s=t(3915),r=t(5317),d=t(6203);let l=(0,s.Wp)({apiKey:"AIzaSyBreQy9u91K6FMTcoY4rl22zNAw_f0juAo",authDomain:"novelplane.firebaseapp.com",projectId:"novelplane",storageBucket:"novelplane.firebasestorage.app",messagingSenderId:"208383799577",appId:"1:208383799577:web:ca27cea78d7588d73e9588"}),i=(0,r.aU)(l),n=(0,d.getAuth)(l);async function c(a,e,t,s){let d=(0,r.H9)(i,"users/".concat(a,"/history"),"".concat(e,"_").concat(t));await (0,r.BN)(d,{novelId:e,chapterId:t,title:s,readAt:(0,r.O5)()})}let o=async(a,e,t)=>{let s=(0,r.H9)(i,"users/".concat(a,"/lastRead"),e);await (0,r.BN)(s,{chapterId:t})},u=async(a,e)=>{let t=(0,r.H9)(i,"users/".concat(a,"/lastRead"),e),s=await (0,r.x7)(t);return s.exists()&&s.data().chapterId||null},h=async()=>(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})),m=async a=>{let e=(await (0,r.GG)((0,r.rJ)(i,"bookmarks"))).docs.map(a=>({id:a.id,...a.data()})).filter(e=>e.userId===a&&e.novelId).map(a=>a.novelId);return 0===e.length?[]:(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>e.includes(a.id))},p=async()=>{let a=await (0,r.GG)((0,r.rJ)(i,"novels")),e=new Set;return a.docs.forEach(a=>{let t=a.data();Array.isArray(t.tags)&&t.tags.forEach(a=>e.add(a))}),Array.from(e)},v=async a=>(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})).filter(e=>Array.isArray(e.tags)&&e.tags.includes(a)),x=async a=>{(0,r.H9)(i,"novels",a);let e=await (0,r.GG)((0,r.rJ)(i,"novels")),t=null;if(e.forEach(e=>{e.id===a&&(t={id:e.id,...e.data()})}),!t)return null;let s=(await (0,r.GG)((0,r.rJ)(i,"novels",a,"chapters"))).docs.map(a=>({id:a.id,...a.data()}));return{...t,chapters:s}},f=async(a,e)=>{(0,r.H9)(i,"novels",a,"chapters",e);let t=await (0,r.GG)((0,r.rJ)(i,"novels",a,"chapters")),s=null;return t.forEach(a=>{a.id===e&&(s={id:a.id,...a.data()})}),s},b=async a=>{let e=(0,r.rJ)(i,"novels",a,"chapters");return(await (0,r.GG)(e)).docs.map(a=>({id:a.id,...a.data()}))},g=async a=>(await (0,r.GG)((0,r.rJ)(i,"users/".concat(a,"/history")))).docs.map(a=>({id:a.id,...a.data()}))}},a=>{var e=e=>a(a.s=e);a.O(0,[992,163,645,874,441,684,358],()=>e(3392)),_N_E=a.O()}]);