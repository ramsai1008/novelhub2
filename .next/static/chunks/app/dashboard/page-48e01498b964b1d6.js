(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1944:(a,e,t)=>{Promise.resolve().then(t.bind(t,4879))},4879:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>o});var s=t(5155),r=t(6203),n=t(2115),d=t(6104),i=t(5695);function o(){let a=(0,i.useRouter)(),[e,t]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=(0,r.onAuthStateChanged)(d.j2,e=>{e?t(e):a.push("/login")});return()=>e()},[a]),e)?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Welcome, ",e.email]}),(0,s.jsx)("p",{children:"Your dashboard content goes here."})]}):(0,s.jsx)("p",{children:"Loading..."})}},5695:(a,e,t)=>{"use strict";var s=t(8999);t.o(s,"useParams")&&t.d(e,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(e,{useRouter:function(){return s.useRouter}})},6104:(a,e,t)=>{"use strict";t.d(e,{CS:()=>u,Gq:()=>c,HS:()=>f,J_:()=>h,Mv:()=>v,Vb:()=>G,YX:()=>y,ab:()=>p,db:()=>i,fC:()=>m,iJ:()=>l,j2:()=>o,qY:()=>w});var s=t(3915),r=t(5317),n=t(6203);let d=(0,s.Wp)({apiKey:"AIzaSyBreQy9u91K6FMTcoY4rl22zNAw_f0juAo",authDomain:"novelplane.firebaseapp.com",projectId:"novelplane",storageBucket:"novelplane.firebasestorage.app",messagingSenderId:"208383799577",appId:"1:208383799577:web:ca27cea78d7588d73e9588"}),i=(0,r.aU)(d),o=(0,n.getAuth)(d);async function l(a,e,t,s){let n=(0,r.H9)(i,"users/".concat(a,"/history"),"".concat(e,"_").concat(t));await (0,r.BN)(n,{novelId:e,chapterId:t,title:s,readAt:(0,r.O5)()})}let c=async(a,e,t)=>{let s=(0,r.H9)(i,"users/".concat(a,"/lastRead"),e);await (0,r.BN)(s,{chapterId:t})},u=async(a,e)=>{let t=(0,r.H9)(i,"users/".concat(a,"/lastRead"),e),s=await (0,r.x7)(t);return s.exists()&&s.data().chapterId||null},p=async()=>(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})),h=async a=>{let e=(await (0,r.GG)((0,r.rJ)(i,"bookmarks"))).docs.map(a=>({id:a.id,...a.data()})).filter(e=>e.userId===a&&e.novelId).map(a=>a.novelId);return 0===e.length?[]:(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>e.includes(a.id))},f=async()=>{let a=await (0,r.GG)((0,r.rJ)(i,"novels")),e=new Set;return a.docs.forEach(a=>{let t=a.data();Array.isArray(t.tags)&&t.tags.forEach(a=>e.add(a))}),Array.from(e)},v=async a=>(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(a=>({id:a.id,...a.data()})).filter(e=>Array.isArray(e.tags)&&e.tags.includes(a)),m=async a=>{(0,r.H9)(i,"novels",a);let e=await (0,r.GG)((0,r.rJ)(i,"novels")),t=null;if(e.forEach(e=>{e.id===a&&(t={id:e.id,...e.data()})}),!t)return null;let s=(await (0,r.GG)((0,r.rJ)(i,"novels",a,"chapters"))).docs.map(a=>({id:a.id,...a.data()}));return{...t,chapters:s}},y=async(a,e)=>{(0,r.H9)(i,"novels",a,"chapters",e);let t=await (0,r.GG)((0,r.rJ)(i,"novels",a,"chapters")),s=null;return t.forEach(a=>{a.id===e&&(s={id:a.id,...a.data()})}),s},G=async a=>{let e=(0,r.rJ)(i,"novels",a,"chapters");return(await (0,r.GG)(e)).docs.map(a=>({id:a.id,...a.data()}))},w=async a=>(await (0,r.GG)((0,r.rJ)(i,"users/".concat(a,"/history")))).docs.map(a=>({id:a.id,...a.data()}))}},a=>{var e=e=>a(a.s=e);a.O(0,[992,163,645,441,684,358],()=>e(1944)),_N_E=a.O()}]);