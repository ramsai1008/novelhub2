(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{3666:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(5155),d=s(2115),r=s(6104),l=s(6203),n=s(5695),i=s(5317);let o=async e=>{let a=(await (0,i.GG)((0,i.rJ)(r.db,"bookmarks"))).docs.map(e=>({id:e.id,...e.data()})).filter(a=>a.userId===e&&a.novelId).map(e=>e.novelId);return 0===a.length?[]:(await (0,i.GG)((0,i.rJ)(r.db,"novels"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>a.includes(e.id))};function c(){let[e,a]=(0,d.useState)(null),[s,i]=(0,d.useState)([]),c=(0,n.useRouter)();return((0,d.useEffect)(()=>{let e=(0,l.hg)(r.j2,async e=>{e?(a(e),i(await o(e.uid))):c.push("/login")});return()=>e()},[c]),e)?(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Your Bookmarks"}),0===s.length?(0,t.jsx)("p",{children:"No bookmarks yet."}):(0,t.jsx)("ul",{className:"space-y-2",children:s.map(e=>(0,t.jsxs)("li",{className:"p-3 border rounded shadow-sm",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Last read: ",e.timestamp?new Date(e.timestamp).toLocaleString():"Unknown"]})]},e.id))})]}):(0,t.jsx)("p",{children:"Loading..."})}},5211:(e,a,s)=>{Promise.resolve().then(s.bind(s,3666))},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},6104:(e,a,s)=>{"use strict";s.d(a,{J_:()=>c,ab:()=>o,db:()=>n,j2:()=>i});var t=s(3915),d=s(5317),r=s(6203);let l=(0,t.Wp)({apiKey:"AIzaSyBreQy9u91K6FMTcoY4rl22zNAw_f0juAo",authDomain:"novelplane.firebaseapp.com",projectId:"novelplane",storageBucket:"novelplane.firebasestorage.app",messagingSenderId:"208383799577",appId:"1:208383799577:web:ca27cea78d7588d73e9588"}),n=(0,d.aU)(l),i=(0,r.xI)(l),o=async()=>(await (0,d.GG)((0,d.rJ)(n,"novels"))).docs.map(e=>({id:e.id,...e.data()})),c=async e=>{let a=(await (0,d.GG)((0,d.rJ)(n,"bookmarks"))).docs.map(e=>({id:e.id,...e.data()})).filter(a=>a.userId===e&&a.novelId).map(e=>e.novelId);return 0===a.length?[]:(await (0,d.GG)((0,d.rJ)(n,"novels"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>a.includes(e.id))}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,163,645,441,684,358],()=>a(5211)),_N_E=e.O()}]);