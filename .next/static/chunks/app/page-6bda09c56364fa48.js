(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{613:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),r=s(2115),l=s(6874),d=s.n(l),i=s(6104),n=s(6203);function o(){let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(!0),{user:g}=function(){let[e,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=(0,n.hg)(i.j2,e=>{a(e)});return()=>e()},[]),{user:e}}();(0,r.useEffect)(()=>{(async()=>{a(await (0,i.ab)()),h(!1),g&&l(await (0,i.J_)(g.uid))})()},[g]);let m=e.filter(e=>e.title.toLowerCase().includes(o.toLowerCase()));return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDCDA Featured Novels"}),(0,t.jsxs)("div",{className:"relative max-w-xl mb-6",children:[(0,t.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400 dark:text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M11 18a7 7 0 100-14 7 7 0 000 14z"})}),(0,t.jsx)("input",{type:"text",placeholder:"Search novels...",value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),g&&s.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Continue Reading"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map(e=>(0,t.jsx)(d(),{href:"/novels/".concat(e.id),children:(0,t.jsx)("div",{className:"rounded-lg shadow p-4 bg-white dark:bg-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:e.title})})},e.id))})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:m.map(e=>{var a;return(0,t.jsx)(d(),{href:"/novels/".concat(e.id),children:(0,t.jsxs)("div",{className:"rounded-lg overflow-hidden shadow bg-white dark:bg-gray-900 hover:shadow-md transition",children:[e.cover&&(0,t.jsx)("img",{src:e.cover,alt:e.title,className:"w-full h-40 object-cover"}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null==(a=e.description)?void 0:a.slice(0,60),"..."]})]})]})},e.id)})}),!u&&0===m.length&&(0,t.jsxs)("p",{className:"text-center text-gray-500 mt-6",children:["No novels found for “",o,"”"]})]})}},6104:(e,a,s)=>{"use strict";s.d(a,{J_:()=>c,ab:()=>o,db:()=>i,j2:()=>n});var t=s(3915),r=s(5317),l=s(6203);let d=(0,t.Wp)({apiKey:"AIzaSyBreQy9u91K6FMTcoY4rl22zNAw_f0juAo",authDomain:"novelplane.firebaseapp.com",projectId:"novelplane",storageBucket:"novelplane.firebasestorage.app",messagingSenderId:"208383799577",appId:"1:208383799577:web:ca27cea78d7588d73e9588"}),i=(0,r.aU)(d),n=(0,l.xI)(d),o=async()=>(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(e=>({id:e.id,...e.data()})),c=async e=>{let a=(await (0,r.GG)((0,r.rJ)(i,"bookmarks"))).docs.map(e=>({id:e.id,...e.data()})).filter(a=>a.userId===e&&a.novelId).map(e=>e.novelId);return 0===a.length?[]:(await (0,r.GG)((0,r.rJ)(i,"novels"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>a.includes(e.id))}},8719:(e,a,s)=>{Promise.resolve().then(s.bind(s,613))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,163,645,874,441,684,358],()=>a(8719)),_N_E=e.O()}]);