exports.id=433,exports.ids=[433],exports.modules={33784:(e,t,r)=>{"use strict";r.d(t,{CS:()=>h,Gq:()=>c,HS:()=>x,J_:()=>m,Mv:()=>v,Vb:()=>g,YX:()=>p,ab:()=>u,db:()=>o,fC:()=>b,iJ:()=>d,j2:()=>l,qY:()=>f});var s=r(67989),a=r(75535),n=r(78403);let i=(0,s.Wp)({apiKey:"AIzaSyBreQy9u91K6FMTcoY4rl22zNAw_f0juAo",authDomain:"novelplane.firebaseapp.com",projectId:"novelplane",storageBucket:"novelplane.firebasestorage.app",messagingSenderId:"208383799577",appId:"1:208383799577:web:ca27cea78d7588d73e9588"}),o=(0,a.aU)(i),l=(0,n.getAuth)(i);async function d(e,t,r,s){let n=(0,a.doc)(o,`users/${e}/history`,`${t}_${r}`);await (0,a.BN)(n,{novelId:t,chapterId:r,title:s,readAt:(0,a.O5)()})}let c=async(e,t,r)=>{let s=(0,a.doc)(o,`users/${e}/lastRead`,t);await (0,a.BN)(s,{chapterId:r})},h=async(e,t)=>{let r=(0,a.doc)(o,`users/${e}/lastRead`,t),s=await (0,a.getDoc)(r);return s.exists()&&s.data().chapterId||null},u=async()=>(await (0,a.GG)((0,a.rJ)(o,"novels"))).docs.map(e=>({id:e.id,...e.data()})),m=async e=>{let t=(await (0,a.GG)((0,a.rJ)(o,"bookmarks"))).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.userId===e&&t.novelId).map(e=>e.novelId);return 0===t.length?[]:(await (0,a.GG)((0,a.rJ)(o,"novels"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>t.includes(e.id))},x=async()=>{let e=await (0,a.GG)((0,a.rJ)(o,"novels")),t=new Set;return e.docs.forEach(e=>{let r=e.data();Array.isArray(r.tags)&&r.tags.forEach(e=>t.add(e))}),Array.from(t)},v=async e=>(await (0,a.GG)((0,a.rJ)(o,"novels"))).docs.map(e=>({id:e.id,...e.data()})).filter(t=>Array.isArray(t.tags)&&t.tags.includes(e)),b=async e=>{(0,a.doc)(o,"novels",e);let t=await (0,a.GG)((0,a.rJ)(o,"novels")),r=null;if(t.forEach(t=>{t.id===e&&(r={id:t.id,...t.data()})}),!r)return null;let s=(await (0,a.GG)((0,a.rJ)(o,"novels",e,"chapters"))).docs.map(e=>({id:e.id,...e.data()}));return{...r,chapters:s}},p=async(e,t)=>{(0,a.doc)(o,"novels",e,"chapters",t);let r=await (0,a.GG)((0,a.rJ)(o,"novels",e,"chapters")),s=null;return r.forEach(e=>{e.id===t&&(s={id:e.id,...e.data()})}),s},g=async e=>{let t=(0,a.rJ)(o,"novels",e,"chapters");return(await (0,a.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))},f=async e=>(await (0,a.GG)((0,a.rJ)(o,`users/${e}/history`))).docs.map(e=>({id:e.id,...e.data()}))},33948:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},44263:()=>{},57295:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(60687);r(44263);var a=r(85814),n=r.n(a),i=r(90307),o=r.n(i),l=r(43210);let d=(0,l.createContext)({theme:"light",toggleTheme:()=>{}});function c({children:e}){let[t,r]=(0,l.useState)("light");return(0,s.jsx)(d.Provider,{value:{theme:t,toggleTheme:()=>r(e=>"light"===e?"dark":"light")},children:e})}let h=()=>(0,l.useContext)(d);var u=r(83714),m=r(21134),x=r(363),v=r(37972);function b(){let{theme:e,toggleTheme:t}=h(),r="dark"===e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.A,{className:"w-5 h-5 text-yellow-500"}),(0,s.jsx)(v.dO,{checked:r,onChange:t,className:`${r?"bg-gray-800":"bg-gray-300"}
          relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300`,children:(0,s.jsx)("span",{className:`${r?"translate-x-6 bg-white":"translate-x-1 bg-black"} inline-block h-4 w-4 transform rounded-full transition-transform`})}),(0,s.jsx)(x.A,{className:"w-5 h-5 text-gray-800 dark:text-white"})]})}var p=r(65868),g=r(33784),f=r(78403),w=r(16189);function y(){let e=(0,w.useRouter)(),t=async()=>{await (0,f.signOut)(g.j2),e.push("/login")};return(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded bg-white dark:bg-zinc-900 text-black dark:text-white hover:bg-gray-100 dark:hover:bg-zinc-800 transition",children:"Sign Out"})}function j(){let{user:e}=(0,p.A)();return e?(0,s.jsx)(y,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n(),{href:"/login",className:"px-3 py-2 rounded bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition text-sm sm:text-base",children:"Login"})})}function k({searchTerm:e,setSearchTerm:t}){return(0,s.jsxs)("div",{className:"relative max-w-xl mx-auto mb-6",children:[(0,s.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400 dark:text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M11 18a7 7 0 100-14 7 7 0 000 14z"})}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search novels by title...",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]})}function N({children:e}){let{user:t}=(0,p.A)(),[r,a]=(0,l.useState)(!1),[i,d]=(0,l.useState)(""),h=(0,w.useRouter)();return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsx)("head",{children:(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,s.jsx)("body",{className:`${o().className} bg-white dark:bg-black text-black dark:text-white transition-colors min-h-screen`,children:(0,s.jsx)(c,{children:(0,s.jsxs)(u.Y,{children:[(0,s.jsxs)("nav",{className:"p-4 bg-gradient-to-r from-blue-700 via-indigo-600 to-purple-600 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex justify-between items-center shadow-lg",children:[(0,s.jsxs)("div",{className:"space-x-4 flex items-center",children:[(0,s.jsx)(n(),{href:"/",className:"hover:underline text-white font-bold tracking-wide text-lg",children:"Home"}),(0,s.jsx)(n(),{href:"/bookmarks",className:"hover:underline text-white/90",children:"Bookmarks"}),(0,s.jsx)(n(),{href:"/history",className:"hover:underline text-white/90",children:"History"}),(0,s.jsx)(n(),{href:"/dashboard",className:"hover:underline text-white/90",children:"Dashboard"}),r&&(0,s.jsx)(n(),{href:"/admin",className:"hover:underline text-yellow-300 font-bold",children:"Admin"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("form",{onSubmit:function(e){e.preventDefault(),0!==i.trim().length&&h.push(`/search?query=${encodeURIComponent(i.trim())}`)},className:"flex items-center",children:(0,s.jsx)(k,{searchTerm:i,setSearchTerm:d})}),(0,s.jsx)(b,{}),(0,s.jsx)(j,{})]})]}),(0,s.jsx)("main",{className:"p-4",children:(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:e})})]})})})]})}},64922:(e,t,r)=>{Promise.resolve().then(r.bind(r,57295))},65868:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(43210);function a(){let[e,t]=(0,s.useState)(null);return{user:e}}r(78403),r(33784)},75538:(e,t,r)=>{Promise.resolve().then(r.bind(r,94431))},83714:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,o:()=>n});var s=r(60687),a=r(43210);let n=(0,a.createContext)({searchTerm:"",setSearchTerm:e=>{}});function i({children:e}){let[t,r]=(0,a.useState)("");return(0,s.jsx)(n.Provider,{value:{searchTerm:t,setSearchTerm:r},children:e})}},92092:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/novelhub2/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/novelhub2/src/app/layout.tsx","default")}};